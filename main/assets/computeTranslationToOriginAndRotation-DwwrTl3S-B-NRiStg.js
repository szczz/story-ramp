import{cg as N,cs as O,cC as _}from"./story-BSn8dUZd.js";import{U as S,Z as T,G as M}from"./mat4-BFStKTjU-CckVUlHi.js";import{F as P,N as e,b as f}from"./projection-m8vi7Cxv-DabLaeW0.js";function R(c,a,t){const E=Math.sin(c),u=Math.cos(c),s=Math.sin(a),o=Math.cos(a),n=t;return n[0]=-E,n[4]=-s*u,n[8]=o*u,n[12]=0,n[1]=u,n[5]=-s*E,n[9]=o*E,n[13]=0,n[2]=0,n[6]=o,n[10]=s,n[14]=0,n[3]=0,n[7]=0,n[11]=0,n[15]=1,n}function m(c,a,t){return R(c,a,t),M(t,t),t}function F(c,a,t,E){const u=P(c,E);if(u==null)return!1;const s=u.source.spatialReferenceId,o=u.dest.spatialReferenceId;if(s===o&&!A(o)&&(s!==e.UNKNOWN||N(c,E)))return S(t,a),!0;if(A(o)){const r=f[s][e.LON_LAT],L=f[e.LON_LAT][o];return r!=null&&L!=null&&(r(a,0,i,0),L(i,0,C,0),R(l*i[0],l*i[1],t),t[12]=C[0],t[13]=C[1],t[14]=C[2],!0)}const n=A(s);if((o===e.WEB_MERCATOR||o===e.PLATE_CARREE||o===e.WGS84||o===e.CGCS2000)&&(s===e.WGS84||n||s===e.WEB_MERCATOR||s===e.CGCS2000)){const r=f[s][e.LON_LAT],L=f[e.LON_LAT][o];return r!=null&&L!=null&&(r(a,0,i,0),L(i,0,C,0),n?m(l*i[0],l*i[1],t):T(t),t[12]=C[0],t[13]=C[1],t[14]=C[2],!0)}return!1}function A(c){return c===e.SPHERICAL_ECEF||c===e.SPHERICAL_MARS_PCPF||c===e.SPHERICAL_MOON_PCPF||c===e.WGS84_ECEF}const l=O(1),i=_(),C=_();export{R as l,F as p};
