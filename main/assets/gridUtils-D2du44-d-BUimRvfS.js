import{cd as R,ba as h,T as m,E as x,cc as y,L as w}from"./story-BSn8dUZd.js";import{G as W,c as E}from"./geodesicUtils-DV-lFWtb-CC8V699D.js";import{C as L}from"./normalizeUtils-b-vZURob-KDh3nV9i.js";const d=50,C=5;function S(t,r){return Math.log(t)/Math.log(r)}function O(t,r,a){const c=t===1?10:t;return c**(a?Math.round(S(d/r,c)):0)}function j(t){const{isGeographic:r,isWebMercator:a}=t;return!r&&!a}function P(t,r,a){const c=typeof t=="number"?null:t,e=a??c?.spatialReference;if(e==null||!R(e)||j(e))return h(e);let o=c?.x??t,s=c?.y??r;const l=1/Math.sqrt(2);let i=o+l,f=s+l;const{isWebMercator:G,isGeographic:M}=e;let u=M&&!W(e)?m.WGS84:e;if(G){let n=new x({x:o,y:s,spatialReference:e});y(n,!0,n),o=n.x,s=n.y,n=new x({x:i,y:f,spatialReference:e}),y(n,!0,n),i=n.x,f=n.y,u=m.WGS84}const b=new w({paths:[[[o,s],[i,f]]],spatialReference:u}),g=L(b,10);let p;try{[p]=E([g],"meters")}catch{return h(e)}return p}export{O as P,P as Q,C as k,j as x};
